<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>17 Homework: Ant Community Ecology and Invasive Fire Ants | Bio 373L Survival Guide</title>
  <meta name="description" content="Lab Manual for Field Ecology (Bio 373L) at UT Austin." />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="17 Homework: Ant Community Ecology and Invasive Fire Ants | Bio 373L Survival Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Lab Manual for Field Ecology (Bio 373L) at UT Austin." />
  <meta name="github-repo" content="Christopher-Peterson/Bio373L-Book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="17 Homework: Ant Community Ecology and Invasive Fire Ants | Bio 373L Survival Guide" />
  
  <meta name="twitter:description" content="Lab Manual for Field Ecology (Bio 373L) at UT Austin." />
  

<meta name="author" content="Christopher R. Peterson" />


<meta name="date" content="2022-10-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="hw-mrr.html"/>
<link rel="next" href="references-2.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Bio 373L Survival Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Writing Lab Reports</b></span></li>
<li class="chapter" data-level="1" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>1</b> The Structure of a Scientific Manuscript</a>
<ul>
<li class="chapter" data-level="1.1" data-path="structure.html"><a href="structure.html#full-manuscripts"><i class="fa fa-check"></i><b>1.1</b> Full Manuscripts</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="structure.html"><a href="structure.html#title"><i class="fa fa-check"></i><b>1.1.1</b> Title</a></li>
<li class="chapter" data-level="1.1.2" data-path="structure.html"><a href="structure.html#abstract-key"><i class="fa fa-check"></i><b>1.1.2</b> Abstract (key)</a></li>
<li class="chapter" data-level="1.1.3" data-path="structure.html"><a href="structure.html#introduction"><i class="fa fa-check"></i><b>1.1.3</b> Introduction</a></li>
<li class="chapter" data-level="1.1.4" data-path="structure.html"><a href="structure.html#methods"><i class="fa fa-check"></i><b>1.1.4</b> Methods</a></li>
<li class="chapter" data-level="1.1.5" data-path="structure.html"><a href="structure.html#results"><i class="fa fa-check"></i><b>1.1.5</b> Results</a></li>
<li class="chapter" data-level="1.1.6" data-path="structure.html"><a href="structure.html#discussion"><i class="fa fa-check"></i><b>1.1.6</b> Discussion</a></li>
<li class="chapter" data-level="1.1.7" data-path="structure.html"><a href="structure.html#literature"><i class="fa fa-check"></i><b>1.1.7</b> Literature</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="structure.html"><a href="structure.html#preliminary-manuscripts"><i class="fa fa-check"></i><b>1.2</b> Preliminary Manuscripts</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="structure.html"><a href="structure.html#the-five-paragraphs"><i class="fa fa-check"></i><b>1.2.1</b> The Five Paragraphs</a></li>
<li class="chapter" data-level="1.2.2" data-path="structure.html"><a href="structure.html#list-of-methods-analyses"><i class="fa fa-check"></i><b>1.2.2</b> List of Methods &amp; Analyses</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="structure.html"><a href="structure.html#figures-and-tables"><i class="fa fa-check"></i><b>1.3</b> Figures and Tables</a></li>
<li class="chapter" data-level="1.4" data-path="structure.html"><a href="structure.html#citationsreferences"><i class="fa fa-check"></i><b>1.4</b> Citations/References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>2</b> Content and Style of an Effective Manuscript</a>
<ul>
<li class="chapter" data-level="2.1" data-path="style.html"><a href="style.html#be-concise"><i class="fa fa-check"></i><b>2.1</b> Be Concise</a></li>
<li class="chapter" data-level="2.2" data-path="style.html"><a href="style.html#sentence-structure"><i class="fa fa-check"></i><b>2.2</b> Sentence Structure</a></li>
<li class="chapter" data-level="2.3" data-path="style.html"><a href="style.html#passive-voice"><i class="fa fa-check"></i><b>2.3</b> Passive Voice</a></li>
<li class="chapter" data-level="2.4" data-path="style.html"><a href="style.html#style_lit"><i class="fa fa-check"></i><b>2.4</b> Using the literature in your paper (This is a common source of mistakes)</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="style.html"><a href="style.html#be-specific-and-concice-with-your-citations"><i class="fa fa-check"></i><b>2.4.1</b> Be specific and concice with your citations</a></li>
<li class="chapter" data-level="2.4.2" data-path="style.html"><a href="style.html#do-not-include-direct-quotes-from-the-literature"><i class="fa fa-check"></i><b>2.4.2</b> Do not include direct quotes from the literature</a></li>
<li class="chapter" data-level="2.4.3" data-path="style.html"><a href="style.html#where-citations-belong"><i class="fa fa-check"></i><b>2.4.3</b> Where citations belong</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="style.html"><a href="style.html#word-choice"><i class="fa fa-check"></i><b>2.5</b> Word Choice</a></li>
<li class="chapter" data-level="2.6" data-path="style.html"><a href="style.html#scientific-and-common-names"><i class="fa fa-check"></i><b>2.6</b> Scientific and Common Names</a></li>
<li class="chapter" data-level="2.7" data-path="style.html"><a href="style.html#other-grammar"><i class="fa fa-check"></i><b>2.7</b> Other Grammar</a></li>
<li class="chapter" data-level="2.8" data-path="style.html"><a href="style.html#commonly-confused-definitions"><i class="fa fa-check"></i><b>2.8</b> Commonly Confused Definitions</a></li>
<li class="chapter" data-level="2.9" data-path="style.html"><a href="style.html#significant-digits"><i class="fa fa-check"></i><b>2.9</b> Significant Digits</a></li>
<li class="chapter" data-level="2.10" data-path="style.html"><a href="style.html#tenses"><i class="fa fa-check"></i><b>2.10</b> Tenses</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="figures.html"><a href="figures.html"><i class="fa fa-check"></i><b>3</b> Figures and Tables</a>
<ul>
<li class="chapter" data-level="3.1" data-path="figures.html"><a href="figures.html#captions"><i class="fa fa-check"></i><b>3.1</b> Captions</a></li>
<li class="chapter" data-level="3.2" data-path="figures.html"><a href="figures.html#figures-1"><i class="fa fa-check"></i><b>3.2</b> Figures</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="figures.html"><a href="figures.html#specific-figure-guidelines"><i class="fa fa-check"></i><b>3.2.1</b> Specific Figure Guidelines</a></li>
<li class="chapter" data-level="3.2.2" data-path="figures.html"><a href="figures.html#be-concise-1"><i class="fa fa-check"></i><b>3.2.2</b> Be Concise</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="figures.html"><a href="figures.html#some-example-figures"><i class="fa fa-check"></i><b>3.3</b> Some Example Figures</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="figures.html"><a href="figures.html#general-formatting"><i class="fa fa-check"></i><b>3.3.1</b> General Formatting</a></li>
<li class="chapter" data-level="3.3.2" data-path="figures.html"><a href="figures.html#continuous-response-categorical-predictors"><i class="fa fa-check"></i><b>3.3.2</b> Continuous response, categorical predictors</a></li>
<li class="chapter" data-level="3.3.3" data-path="figures.html"><a href="figures.html#categorical-count-or-frequency-responses"><i class="fa fa-check"></i><b>3.3.3</b> Categorical, count, or frequency responses</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="figures.html"><a href="figures.html#tables"><i class="fa fa-check"></i><b>3.4</b> Tables</a></li>
</ul></li>
<li class="part"><span><b>II Data Analysis in R</b></span></li>
<li class="chapter" data-level="4" data-path="r-intro.html"><a href="r-intro.html"><i class="fa fa-check"></i><b>4</b> Working with R and RStudio</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-intro.html"><a href="r-intro.html#r-intro-rstudio"><i class="fa fa-check"></i><b>4.1</b> Introduction to RStudio</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="r-intro.html"><a href="r-intro.html#rstudio-projects"><i class="fa fa-check"></i><b>4.1.1</b> RStudio Projects</a></li>
<li class="chapter" data-level="4.1.2" data-path="r-intro.html"><a href="r-intro.html#customizing-rstudio"><i class="fa fa-check"></i><b>4.1.2</b> Customizing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="r-intro.html"><a href="r-intro.html#r-basics"><i class="fa fa-check"></i><b>4.2</b> R basics</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="r-intro.html"><a href="r-intro.html#statements-vectors"><i class="fa fa-check"></i><b>4.2.1</b> Statements &amp; vectors</a></li>
<li class="chapter" data-level="4.2.2" data-path="r-intro.html"><a href="r-intro.html#variables"><i class="fa fa-check"></i><b>4.2.2</b> Variables</a></li>
<li class="chapter" data-level="4.2.3" data-path="r-intro.html"><a href="r-intro.html#reading-working-with-data-frames"><i class="fa fa-check"></i><b>4.2.3</b> Reading &amp; working with data frames</a></li>
<li class="chapter" data-level="4.2.4" data-path="r-intro.html"><a href="r-intro.html#functions"><i class="fa fa-check"></i><b>4.2.4</b> Functions</a></li>
<li class="chapter" data-level="4.2.5" data-path="r-intro.html"><a href="r-intro.html#getting-help"><i class="fa fa-check"></i><b>4.2.5</b> Getting Help</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-ggplot.html"><a href="r-ggplot.html"><i class="fa fa-check"></i><b>5</b> Making graphs in R with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-components"><i class="fa fa-check"></i><b>5.1</b> Components of a plot</a></li>
<li class="chapter" data-level="5.2" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-aes"><i class="fa fa-check"></i><b>5.2</b> Aesthetics and scales</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-aes-color"><i class="fa fa-check"></i><b>5.2.1</b> Color</a></li>
<li class="chapter" data-level="5.2.2" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-aes-shape"><i class="fa fa-check"></i><b>5.2.2</b> Shape</a></li>
<li class="chapter" data-level="5.2.3" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-aes-size"><i class="fa fa-check"></i><b>5.2.3</b> Size</a></li>
<li class="chapter" data-level="5.2.4" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-aes-fixed"><i class="fa fa-check"></i><b>5.2.4</b> Fixed aesthetics</a></li>
<li class="chapter" data-level="5.2.5" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-aes-combined"><i class="fa fa-check"></i><b>5.2.5</b> Combining aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="r-ggplot.html"><a href="r-ggplot.html#geometry"><i class="fa fa-check"></i><b>5.3</b> Geometry</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-contx-noy"><i class="fa fa-check"></i><b>5.3.1</b> Continuous X, no Y</a></li>
<li class="chapter" data-level="5.3.2" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-discx-conty"><i class="fa fa-check"></i><b>5.3.2</b> Discrete X, continuous Y</a></li>
<li class="chapter" data-level="5.3.3" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-contx-conty"><i class="fa fa-check"></i><b>5.3.3</b> Continuous X and Y</a></li>
<li class="chapter" data-level="5.3.4" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-ts"><i class="fa fa-check"></i><b>5.3.4</b> Time series data</a></li>
<li class="chapter" data-level="5.3.5" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-discx-discy"><i class="fa fa-check"></i><b>5.3.5</b> Discrete X and Y</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-facet"><i class="fa fa-check"></i><b>5.4</b> Facets</a></li>
<li class="chapter" data-level="5.5" data-path="r-ggplot.html"><a href="r-ggplot.html#r-ggplot-tweaks"><i class="fa fa-check"></i><b>5.5</b> Changing the theme, axis titles, &amp; other visual elements</a></li>
<li class="chapter" data-level="5.6" data-path="r-ggplot.html"><a href="r-ggplot.html#more-references"><i class="fa fa-check"></i><b>5.6</b> More references</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="r-dplyr.html"><a href="r-dplyr.html"><i class="fa fa-check"></i><b>6</b> Data manipulation with <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="r-dplyr.html"><a href="r-dplyr.html#r-dplyr-pipe"><i class="fa fa-check"></i><b>6.1</b> The Pipe (|&gt;)</a></li>
<li class="chapter" data-level="6.2" data-path="r-dplyr.html"><a href="r-dplyr.html#r-dplyr-mutate"><i class="fa fa-check"></i><b>6.2</b> Adding/modifying columns (mutate)</a></li>
<li class="chapter" data-level="6.3" data-path="r-dplyr.html"><a href="r-dplyr.html#r-dplyr-filter"><i class="fa fa-check"></i><b>6.3</b> Subsetting by row (filter)</a></li>
<li class="chapter" data-level="6.4" data-path="r-dplyr.html"><a href="r-dplyr.html#r-dplyr-select"><i class="fa fa-check"></i><b>6.4</b> Subsetting by column (select)</a></li>
<li class="chapter" data-level="6.5" data-path="r-dplyr.html"><a href="r-dplyr.html#r-dplyr-arrange"><i class="fa fa-check"></i><b>6.5</b> Sorting by columns (arrange)</a></li>
<li class="chapter" data-level="6.6" data-path="r-dplyr.html"><a href="r-dplyr.html#r-dplyr-summarize"><i class="fa fa-check"></i><b>6.6</b> Summarizing data</a></li>
<li class="chapter" data-level="6.7" data-path="r-dplyr.html"><a href="r-dplyr.html#r-dplyr-group"><i class="fa fa-check"></i><b>6.7</b> Group Operations</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-stats.html"><a href="r-stats.html"><i class="fa fa-check"></i><b>7</b> Performing some useful analyses in R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-stats.html"><a href="r-stats.html#r-stats-factors"><i class="fa fa-check"></i><b>7.1</b> A note on factors</a></li>
<li class="chapter" data-level="7.2" data-path="r-stats.html"><a href="r-stats.html#r-stats-cat"><i class="fa fa-check"></i><b>7.2</b> Comparing categorical frequencies (Contingency Tables &amp; related analyses)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="r-stats.html"><a href="r-stats.html#r-stats-cont-tbl"><i class="fa fa-check"></i><b>7.2.1</b> Contingency Tables</a></li>
<li class="chapter" data-level="7.2.2" data-path="r-stats.html"><a href="r-stats.html#r-stats-chisq"><i class="fa fa-check"></i><b>7.2.2</b> Chi-squared &amp; Fisher’s Exact Tests</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="r-stats.html"><a href="r-stats.html#r-stats-lm"><i class="fa fa-check"></i><b>7.3</b> Linear Models: Regression, ANOVA, and t-tests</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="r-stats.html"><a href="r-stats.html#regression"><i class="fa fa-check"></i><b>7.3.1</b> Regression</a></li>
<li class="chapter" data-level="7.3.2" data-path="r-stats.html"><a href="r-stats.html#r-stats-anova"><i class="fa fa-check"></i><b>7.3.2</b> ANOVA</a></li>
<li class="chapter" data-level="7.3.3" data-path="r-stats.html"><a href="r-stats.html#comparing-two-means-t-tests"><i class="fa fa-check"></i><b>7.3.3</b> Comparing two means (t-tests)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-tidyr.html"><a href="r-tidyr.html"><i class="fa fa-check"></i><b>8</b> Wrangling, reshaping, and tidying data with <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="8.1" data-path="r-tidyr.html"><a href="r-tidyr.html#tidy-data"><i class="fa fa-check"></i><b>8.1</b> Tidy data</a></li>
<li class="chapter" data-level="8.2" data-path="r-tidyr.html"><a href="r-tidyr.html#pivot-longer-tutorial"><i class="fa fa-check"></i><b>8.2</b> Going from many columns to many rows: <code>pivot_longer()</code></a></li>
<li class="chapter" data-level="8.3" data-path="r-tidyr.html"><a href="r-tidyr.html#separate-tutorial"><i class="fa fa-check"></i><b>8.3</b> Splitting and merging columns: <code>separate() and unite()</code></a></li>
<li class="chapter" data-level="8.4" data-path="r-tidyr.html"><a href="r-tidyr.html#pivot-longer-multi-tutorial"><i class="fa fa-check"></i><b>8.4</b> Pivoting multiple columns</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="r-tidyr.html"><a href="r-tidyr.html#combining-pivot_longer-with-summarise"><i class="fa fa-check"></i><b>8.4.1</b> Combining <code>pivot_longer()</code> with <code>summarise()</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Field Problems and Lab activities</b></span></li>
<li class="chapter" data-level="9" data-path="lab-succession.html"><a href="lab-succession.html"><i class="fa fa-check"></i><b>9</b> Succession Lab</a>
<ul>
<li class="chapter" data-level="9.1" data-path="lab-succession.html"><a href="lab-succession.html#introduction-to-the-lab"><i class="fa fa-check"></i><b>9.1</b> Introduction to the lab</a></li>
<li class="chapter" data-level="9.2" data-path="lab-succession.html"><a href="lab-succession.html#materials-and-methods"><i class="fa fa-check"></i><b>9.2</b> Materials and Methods</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="lab-succession.html"><a href="lab-succession.html#bfl-habitat-regions"><i class="fa fa-check"></i><b>9.2.1</b> BFL habitat regions</a></li>
<li class="chapter" data-level="9.2.2" data-path="lab-succession.html"><a href="lab-succession.html#data-collection"><i class="fa fa-check"></i><b>9.2.2</b> Data Collection</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="lab-succession.html"><a href="lab-succession.html#analysis-to-perform"><i class="fa fa-check"></i><b>9.3</b> Analysis to perform</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="lab-succession.html"><a href="lab-succession.html#lab-succession-density"><i class="fa fa-check"></i><b>9.3.1</b> Canopy tree density</a></li>
<li class="chapter" data-level="9.3.2" data-path="lab-succession.html"><a href="lab-succession.html#species-by-habitat-and-life-stage"><i class="fa fa-check"></i><b>9.3.2</b> Species by habitat and life stage</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="lab-succession.html"><a href="lab-succession.html#discussion-1"><i class="fa fa-check"></i><b>9.4</b> Discussion</a></li>
<li class="chapter" data-level="9.5" data-path="lab-succession.html"><a href="lab-succession.html#general-comments-post-review"><i class="fa fa-check"></i><b>9.5</b> General Comments (Post-Review)</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="lab-succession.html"><a href="lab-succession.html#figures-2"><i class="fa fa-check"></i><b>9.5.1</b> Figures</a></li>
<li class="chapter" data-level="9.5.2" data-path="lab-succession.html"><a href="lab-succession.html#write-this-like-youre-trying-to-publish-it"><i class="fa fa-check"></i><b>9.5.2</b> Write this like you’re trying to publish it</a></li>
<li class="chapter" data-level="9.5.3" data-path="lab-succession.html"><a href="lab-succession.html#describe-the-habitats"><i class="fa fa-check"></i><b>9.5.3</b> Describe the habitats</a></li>
<li class="chapter" data-level="9.5.4" data-path="lab-succession.html"><a href="lab-succession.html#the-analysis"><i class="fa fa-check"></i><b>9.5.4</b> The Analysis</a></li>
<li class="chapter" data-level="9.5.5" data-path="lab-succession.html"><a href="lab-succession.html#keeping-things-in-the-right-sections"><i class="fa fa-check"></i><b>9.5.5</b> Keeping things in the right sections</a></li>
<li class="chapter" data-level="9.5.6" data-path="lab-succession.html"><a href="lab-succession.html#basic-style-and-format-rules"><i class="fa fa-check"></i><b>9.5.6</b> Basic style and format rules</a></li>
<li class="chapter" data-level="9.5.7" data-path="lab-succession.html"><a href="lab-succession.html#other-comments"><i class="fa fa-check"></i><b>9.5.7</b> Other Comments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html"><i class="fa fa-check"></i><b>10</b> Heterogeneity Lab:</a>
<ul>
<li class="chapter" data-level="10.1" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#introduction-background"><i class="fa fa-check"></i><b>10.1</b> Introduction &amp; background</a></li>
<li class="chapter" data-level="10.2" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#questions-and-hypotheses"><i class="fa fa-check"></i><b>10.2</b> Questions and Hypotheses</a></li>
<li class="chapter" data-level="10.3" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#field-methods"><i class="fa fa-check"></i><b>10.3</b> Field Methods</a></li>
<li class="chapter" data-level="10.4" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#analyses"><i class="fa fa-check"></i><b>10.4</b> Analyses</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#calibrating-canopy-estimates"><i class="fa fa-check"></i><b>10.4.1</b> Calibrating canopy estimates</a></li>
<li class="chapter" data-level="10.4.2" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#relationship-between-canopy-and-ground-cover"><i class="fa fa-check"></i><b>10.4.2</b> Relationship between canopy and ground cover</a></li>
<li class="chapter" data-level="10.4.3" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#quantifying-the-spatial-mosaic"><i class="fa fa-check"></i><b>10.4.3</b> Quantifying the spatial mosaic</a></li>
<li class="chapter" data-level="10.4.4" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#historical-comparison"><i class="fa fa-check"></i><b>10.4.4</b> Historical comparison</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="lab-heterogeneity.html"><a href="lab-heterogeneity.html#references"><i class="fa fa-check"></i><b>10.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="lab-mrr.html"><a href="lab-mrr.html"><i class="fa fa-check"></i><b>11</b> Mark-Release-Recapture (MRR) Lab</a>
<ul>
<li class="chapter" data-level="11.1" data-path="lab-mrr.html"><a href="lab-mrr.html#introduction-1"><i class="fa fa-check"></i><b>11.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="lab-mrr.html"><a href="lab-mrr.html#lab-mrr-lp"><i class="fa fa-check"></i><b>11.1.1</b> The Lincoln-Petersen model</a></li>
<li class="chapter" data-level="11.1.2" data-path="lab-mrr.html"><a href="lab-mrr.html#heliconius-butterflies"><i class="fa fa-check"></i><b>11.1.2</b> <em>Heliconius</em> butterflies</a></li>
<li class="chapter" data-level="11.1.3" data-path="lab-mrr.html"><a href="lab-mrr.html#lab-mrr-hwe-theory"><i class="fa fa-check"></i><b>11.1.3</b> Hardy-Weinberg Equilibrium</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="lab-mrr.html"><a href="lab-mrr.html#questions-and-hypotheses-1"><i class="fa fa-check"></i><b>11.2</b> Questions and hypotheses</a></li>
<li class="chapter" data-level="11.3" data-path="lab-mrr.html"><a href="lab-mrr.html#lab-mrr-field-methods"><i class="fa fa-check"></i><b>11.3</b> Field Methods</a></li>
<li class="chapter" data-level="11.4" data-path="lab-mrr.html"><a href="lab-mrr.html#analysis"><i class="fa fa-check"></i><b>11.4</b> Analysis</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="lab-mrr.html"><a href="lab-mrr.html#effect-of-sampling-intensity-on-lincoln-petersen-hatn-estimates"><i class="fa fa-check"></i><b>11.4.1</b> Effect of sampling intensity on Lincoln-Petersen <span class="math inline">\(\hat{N}\)</span> estimates</a></li>
<li class="chapter" data-level="11.4.2" data-path="lab-mrr.html"><a href="lab-mrr.html#sex-ratios"><i class="fa fa-check"></i><b>11.4.2</b> Sex ratios</a></li>
<li class="chapter" data-level="11.4.3" data-path="lab-mrr.html"><a href="lab-mrr.html#lab-mrr-trinidad"><i class="fa fa-check"></i><b>11.4.3</b> Comparison of Lincoln-Petersen with alternative method</a></li>
<li class="chapter" data-level="11.4.4" data-path="lab-mrr.html"><a href="lab-mrr.html#hardy-weinberg"><i class="fa fa-check"></i><b>11.4.4</b> Hardy-Weinberg</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="lab-mrr.html"><a href="lab-mrr.html#discussion-2"><i class="fa fa-check"></i><b>11.5</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="Lab_ants.html"><a href="Lab_ants.html"><i class="fa fa-check"></i><b>12</b> Ant Lab: Ant Community Ecology and the Effects of Invasive Fire Ants</a>
<ul>
<li class="chapter" data-level="12.1" data-path="Lab_ants.html"><a href="Lab_ants.html#background"><i class="fa fa-check"></i><b>12.1</b> Background</a></li>
<li class="chapter" data-level="12.2" data-path="Lab_ants.html"><a href="Lab_ants.html#questions-and-hypotheses-2"><i class="fa fa-check"></i><b>12.2</b> Questions and hypotheses</a></li>
<li class="chapter" data-level="12.3" data-path="Lab_ants.html"><a href="Lab_ants.html#methods-1"><i class="fa fa-check"></i><b>12.3</b> Methods</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="Lab_ants.html"><a href="Lab_ants.html#bait-survey"><i class="fa fa-check"></i><b>12.3.1</b> Bait Survey</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="Lab_ants.html"><a href="Lab_ants.html#analysis-1"><i class="fa fa-check"></i><b>12.4</b> Analysis</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="Lab_ants.html"><a href="Lab_ants.html#s.-invicta-habitat-preference"><i class="fa fa-check"></i><b>12.4.1</b> <em>S. invicta</em> habitat preference</a></li>
<li class="chapter" data-level="12.4.2" data-path="Lab_ants.html"><a href="Lab_ants.html#ant-community-differences"><i class="fa fa-check"></i><b>12.4.2</b> Ant community differences</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="Lab_ants.html"><a href="Lab_ants.html#references-1"><i class="fa fa-check"></i><b>12.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="Lab_phorid.html"><a href="Lab_phorid.html"><i class="fa fa-check"></i><b>13</b> Phorid Lab: Parasitoid impacts on host foraging behavior with Phorid flies and fire ants</a>
<ul>
<li class="chapter" data-level="13.1" data-path="Lab_phorid.html"><a href="Lab_phorid.html#background-1"><i class="fa fa-check"></i><b>13.1</b> Background</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="Lab_phorid.html"><a href="Lab_phorid.html#fire-ants-and-phorid-flies"><i class="fa fa-check"></i><b>13.1.1</b> Fire ants and phorid flies</a></li>
<li class="chapter" data-level="13.1.2" data-path="Lab_phorid.html"><a href="Lab_phorid.html#fire-ants-natural-history"><i class="fa fa-check"></i><b>13.1.2</b> Fire ants natural history</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="Lab_phorid.html"><a href="Lab_phorid.html#objectives"><i class="fa fa-check"></i><b>13.2</b> Objectives</a></li>
<li class="chapter" data-level="13.3" data-path="Lab_phorid.html"><a href="Lab_phorid.html#methods-2"><i class="fa fa-check"></i><b>13.3</b> Methods</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="Lab_phorid.html"><a href="Lab_phorid.html#phorid-impact-on-fire-ant-foraging"><i class="fa fa-check"></i><b>13.3.1</b> Phorid impact on fire ant foraging</a></li>
<li class="chapter" data-level="13.3.2" data-path="Lab_phorid.html"><a href="Lab_phorid.html#using-the-hobo-mx2303-data-logger"><i class="fa fa-check"></i><b>13.3.2</b> Using the HOBO MX2303 data logger</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="Lab_phorid.html"><a href="Lab_phorid.html#modified-protocol-if-phorids-are-not-present"><i class="fa fa-check"></i><b>13.4</b> Modified protocol if phorids are not present</a></li>
<li class="chapter" data-level="13.5" data-path="Lab_phorid.html"><a href="Lab_phorid.html#analysis-2"><i class="fa fa-check"></i><b>13.5</b> Analysis</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="Lab_phorid.html"><a href="Lab_phorid.html#effect-of-phorids-on-ant-foraging"><i class="fa fa-check"></i><b>13.5.1</b> Effect of phorids on ant foraging</a></li>
<li class="chapter" data-level="13.5.2" data-path="Lab_phorid.html"><a href="Lab_phorid.html#effects-of-environmental-conditions"><i class="fa fa-check"></i><b>13.5.2</b> Effects of environmental conditions</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="Lab_phorid.html"><a href="Lab_phorid.html#discussion-3"><i class="fa fa-check"></i><b>13.6</b> Discussion</a></li>
<li class="chapter" data-level="13.7" data-path="Lab_phorid.html"><a href="Lab_phorid.html#some-questions-from-previous-semesters"><i class="fa fa-check"></i><b>13.7</b> Some questions from previous semesters:</a></li>
</ul></li>
<li class="part"><span><b>IV Analysis Homeworks</b></span></li>
<li class="chapter" data-level="14" data-path="hw-succession.html"><a href="hw-succession.html"><i class="fa fa-check"></i><b>14</b> Homework: Succession</a>
<ul>
<li class="chapter" data-level="14.1" data-path="hw-succession.html"><a href="hw-succession.html#required-reading"><i class="fa fa-check"></i><b>14.1</b> Required Reading</a></li>
<li class="chapter" data-level="14.2" data-path="hw-succession.html"><a href="hw-succession.html#objectives-1"><i class="fa fa-check"></i><b>14.2</b> Objectives</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="hw-succession.html"><a href="hw-succession.html#whats-due"><i class="fa fa-check"></i><b>14.2.1</b> What’s due?</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="hw-succession.html"><a href="hw-succession.html#getting-started"><i class="fa fa-check"></i><b>14.3</b> Getting started</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="hw-succession.html"><a href="hw-succession.html#make-sure-your-software-is-up-to-date"><i class="fa fa-check"></i><b>14.3.1</b> Make sure your software is up-to-date</a></li>
<li class="chapter" data-level="14.3.2" data-path="hw-succession.html"><a href="hw-succession.html#create-the-rstudio-project"><i class="fa fa-check"></i><b>14.3.2</b> Create the RStudio Project</a></li>
<li class="chapter" data-level="14.3.3" data-path="hw-succession.html"><a href="hw-succession.html#create-an-r-script."><i class="fa fa-check"></i><b>14.3.3</b> Create an R script.</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="hw-succession.html"><a href="hw-succession.html#the-data"><i class="fa fa-check"></i><b>14.4</b> The Data</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="hw-succession.html"><a href="hw-succession.html#download-and-import-the-data"><i class="fa fa-check"></i><b>14.4.1</b> Download and import the data</a></li>
<li class="chapter" data-level="14.4.2" data-path="hw-succession.html"><a href="hw-succession.html#data"><i class="fa fa-check"></i><b>14.4.2</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="hw-succession.html"><a href="hw-succession.html#comparing-the-relative-abundance-of-canopy-and-sapling-trees-in-each-habitat"><i class="fa fa-check"></i><b>14.5</b> Comparing the relative abundance of canopy and sapling trees in each habitat</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="hw-succession.html"><a href="hw-succession.html#create-a-barplot-comparing-canopy-sapling-abundances"><i class="fa fa-check"></i><b>14.5.1</b> Create a barplot comparing canopy &amp; sapling abundances</a></li>
<li class="chapter" data-level="14.5.2" data-path="hw-succession.html"><a href="hw-succession.html#contingency-table-chi-squared-test-of-top-5-species"><i class="fa fa-check"></i><b>14.5.2</b> Contingency table &amp; chi-squared test of top 5 species</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="hw-succession.html"><a href="hw-succession.html#density"><i class="fa fa-check"></i><b>14.6</b> Density</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html"><i class="fa fa-check"></i><b>15</b> Homework: Heterogeneity</a>
<ul>
<li class="chapter" data-level="15.1" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html#required-reading-1"><i class="fa fa-check"></i><b>15.1</b> Required Reading</a></li>
<li class="chapter" data-level="15.2" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html#objectives-and-whats-due"><i class="fa fa-check"></i><b>15.2</b> Objectives (and what’s due)</a></li>
<li class="chapter" data-level="15.3" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html#getting-started-1"><i class="fa fa-check"></i><b>15.3</b> Getting started</a></li>
<li class="chapter" data-level="15.4" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html#the-data-1"><i class="fa fa-check"></i><b>15.4</b> The data</a></li>
<li class="chapter" data-level="15.5" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html#relationships-between-cover-levels"><i class="fa fa-check"></i><b>15.5</b> Relationships between Cover Levels</a></li>
<li class="chapter" data-level="15.6" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html#relationship-between-current-and-historical-cover-levels"><i class="fa fa-check"></i><b>15.6</b> Relationship Between Current and Historical Cover Levels</a></li>
<li class="chapter" data-level="15.7" data-path="hw-heterogeneity.html"><a href="hw-heterogeneity.html#calibrating-subjective-scores-with-gap-light-analyzer"><i class="fa fa-check"></i><b>15.7</b> Calibrating Subjective Scores with Gap Light Analyzer</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="hw-mrr.html"><a href="hw-mrr.html"><i class="fa fa-check"></i><b>16</b> Homework: Mark-Release-Recapture</a>
<ul>
<li class="chapter" data-level="16.1" data-path="hw-mrr.html"><a href="hw-mrr.html#required-reading-2"><i class="fa fa-check"></i><b>16.1</b> Required Reading</a></li>
<li class="chapter" data-level="16.2" data-path="hw-mrr.html"><a href="hw-mrr.html#objectives-and-whats-due-1"><i class="fa fa-check"></i><b>16.2</b> Objectives (and what’s due)</a></li>
<li class="chapter" data-level="16.3" data-path="hw-mrr.html"><a href="hw-mrr.html#getting-started-2"><i class="fa fa-check"></i><b>16.3</b> Getting started</a></li>
<li class="chapter" data-level="16.4" data-path="hw-mrr.html"><a href="hw-mrr.html#sampling-intensity-and-lincoln-petersen"><i class="fa fa-check"></i><b>16.4</b> Sampling Intensity and Lincoln-Petersen</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="hw-mrr.html"><a href="hw-mrr.html#the-data-2"><i class="fa fa-check"></i><b>16.4.1</b> The data</a></li>
<li class="chapter" data-level="16.4.2" data-path="hw-mrr.html"><a href="hw-mrr.html#hw-mrr-lp-calc"><i class="fa fa-check"></i><b>16.4.2</b> Calculating Lincoln-Petersen numbers</a></li>
<li class="chapter" data-level="16.4.3" data-path="hw-mrr.html"><a href="hw-mrr.html#visualizing-the-effect-of-sample-size-on"><i class="fa fa-check"></i><b>16.4.3</b> Visualizing the effect of sample size on $</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="hw-mrr.html"><a href="hw-mrr.html#estimates-by-sex-and-sex-ratios"><i class="fa fa-check"></i><b>16.5</b> Estimates by Sex and Sex Ratios</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="hw-mrr.html"><a href="hw-mrr.html#is-the-sex-ratio-5050"><i class="fa fa-check"></i><b>16.5.1</b> Is the Sex Ratio 50:50?</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="hw-mrr.html"><a href="hw-mrr.html#alternate-methods-for-population-size-estimates"><i class="fa fa-check"></i><b>16.6</b> Alternate Methods for Population Size Estimates</a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="hw-mrr.html"><a href="hw-mrr.html#the-data-3"><i class="fa fa-check"></i><b>16.6.1</b> The data</a></li>
<li class="chapter" data-level="16.6.2" data-path="hw-mrr.html"><a href="hw-mrr.html#lincoln-petersen-estimate"><i class="fa fa-check"></i><b>16.6.2</b> Lincoln-Petersen estimate</a></li>
<li class="chapter" data-level="16.6.3" data-path="hw-mrr.html"><a href="hw-mrr.html#regression-estimate"><i class="fa fa-check"></i><b>16.6.3</b> Regression estimate</a></li>
<li class="chapter" data-level="16.6.4" data-path="hw-mrr.html"><a href="hw-mrr.html#regression-figure"><i class="fa fa-check"></i><b>16.6.4</b> Regression figure</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="hw-mrr.html"><a href="hw-mrr.html#hardy-weinberg-equilibrium-optix"><i class="fa fa-check"></i><b>16.7</b> Hardy-Weinberg Equilibrium &amp; Optix</a>
<ul>
<li class="chapter" data-level="16.7.1" data-path="hw-mrr.html"><a href="hw-mrr.html#the-data-4"><i class="fa fa-check"></i><b>16.7.1</b> The data</a></li>
<li class="chapter" data-level="16.7.2" data-path="hw-mrr.html"><a href="hw-mrr.html#calculating-hwe-ratios"><i class="fa fa-check"></i><b>16.7.2</b> Calculating HWE ratios</a></li>
<li class="chapter" data-level="16.7.3" data-path="hw-mrr.html"><a href="hw-mrr.html#testing-for-hwe"><i class="fa fa-check"></i><b>16.7.3</b> Testing for HWE</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="hw-ants.html"><a href="hw-ants.html"><i class="fa fa-check"></i><b>17</b> Homework: Ant Community Ecology and Invasive Fire Ants</a>
<ul>
<li class="chapter" data-level="17.1" data-path="hw-ants.html"><a href="hw-ants.html#required-reading-3"><i class="fa fa-check"></i><b>17.1</b> Required Reading</a></li>
<li class="chapter" data-level="17.2" data-path="hw-ants.html"><a href="hw-ants.html#objectives-and-whats-due-2"><i class="fa fa-check"></i><b>17.2</b> Objectives (and what’s due)</a></li>
<li class="chapter" data-level="17.3" data-path="hw-ants.html"><a href="hw-ants.html#getting-started-3"><i class="fa fa-check"></i><b>17.3</b> Getting started</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="hw-ants.html"><a href="hw-ants.html#contrasts"><i class="fa fa-check"></i><b>17.3.1</b> Contrasts</a></li>
<li class="chapter" data-level="17.3.2" data-path="hw-ants.html"><a href="hw-ants.html#the-data-5"><i class="fa fa-check"></i><b>17.3.2</b> The data</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="hw-ants.html"><a href="hw-ants.html#s.-invicta-habitat-preference-1"><i class="fa fa-check"></i><b>17.4</b> <em>S. invicta</em> habitat preference</a></li>
<li class="chapter" data-level="17.5" data-path="hw-ants.html"><a href="hw-ants.html#jaccard-similarity"><i class="fa fa-check"></i><b>17.5</b> Jaccard similarity</a></li>
<li class="chapter" data-level="17.6" data-path="hw-ants.html"><a href="hw-ants.html#shannon-index-diversity"><i class="fa fa-check"></i><b>17.6</b> Shannon Index &amp; Diversity</a></li>
<li class="chapter" data-level="17.7" data-path="hw-ants.html"><a href="hw-ants.html#species-accumulation-curves"><i class="fa fa-check"></i><b>17.7</b> Species Accumulation Curves</a></li>
<li class="chapter" data-level="17.8" data-path="hw-ants.html"><a href="hw-ants.html#rank-abundance-curves"><i class="fa fa-check"></i><b>17.8</b> Rank Abundance Curves</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bio 373L Survival Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="hw-ants" class="section level1 hasAnchor" number="17">
<h1><span class="header-section-number">17</span> Homework: Ant Community Ecology and Invasive Fire Ants<a href="hw-ants.html#hw-ants" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="required-reading-3" class="section level2 hasAnchor" number="17.1">
<h2><span class="header-section-number">17.1</span> Required Reading<a href="hw-ants.html#required-reading-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This homework will prepare you to analyze the data from the <a href="#Lab-ants">Ant lab</a>.
You should read over that the material to properly understand the data you’ll be working with here.
You should be familiar with the materials in Chapters <a href="r-intro.html#r-intro">4</a>, <a href="r-ggplot.html#r-ggplot">5</a>, <a href="r-dplyr.html#r-dplyr">6</a>, and <a href="r-stats.html#r-stats-cat">7.2</a>.
I will also use code from Chapter <a href="r-tidyr.html#r-tidyr">8</a> to reshape the data, although fully understanding it is not necessary for this exercise.</p>
</div>
<div id="objectives-and-whats-due-2" class="section level2 hasAnchor" number="17.2">
<h2><span class="header-section-number">17.2</span> Objectives (and what’s due)<a href="hw-ants.html#objectives-and-whats-due-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are four primary questions in this lab, along with the associated results you’ll be submitting:</p>
<ul>
<li><p>What are the habitat preferences of <em>Solenopsis invicta</em>?</p>
<ul>
<li><strong>Submit:</strong> Three contingency tables (one per contrast) showing the contrast vs. Fire Ant presence/absence; cell contents should be the number of baits that meet he conditions. With each table, submit a chi-square or Fisher’s exact test (as appropriate).</li>
<li><strong>Submit:</strong> A contingency table showing if the interaction of canopy openness &amp; disturbance affect fire ant presence, along with a relevant statistical test.</li>
</ul></li>
<li><p>How do different habitat characteristics affect the ant community?</p>
<ul>
<li><strong>Submit:</strong> The Jaccard index of similarity for each contrast.</li>
<li><strong>Submit:</strong> The Shannon diversity for each contrast.</li>
<li><strong>Submit:</strong> A Species accumulation curb comparing sampling effort and estimated species richness for each contrast.</li>
<li><strong>Submit:</strong> A rank abundance curve comparing species evenness for each contrast.</li>
</ul></li>
</ul>
</div>
<div id="getting-started-3" class="section level2 hasAnchor" number="17.3">
<h2><span class="header-section-number">17.3</span> Getting started<a href="hw-ants.html#getting-started-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You’ll need to download <a href="data/F21_ant_data.csv">F21_ant_data.csv</a> and put it in your <code>data</code> directory.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="hw-ants.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MRR Lab Analysis</span></span>
<span id="cb170-2"><a href="hw-ants.html#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="do">#### Setup ####</span></span>
<span id="cb170-3"><a href="hw-ants.html#cb170-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages &amp; data</span></span>
<span id="cb170-4"><a href="hw-ants.html#cb170-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb170-5"><a href="hw-ants.html#cb170-5" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;vegan&quot;) # uncomment if necessary</span></span>
<span id="cb170-6"><a href="hw-ants.html#cb170-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegan) </span>
<span id="cb170-7"><a href="hw-ants.html#cb170-7" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_classic</span>()) <span class="co"># Removes gridlines from ggplot</span></span>
<span id="cb170-8"><a href="hw-ants.html#cb170-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-9"><a href="hw-ants.html#cb170-9" aria-hidden="true" tabindex="-1"></a>raw_ant_data <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/F21_ant_data.csv&quot;</span>)</span></code></pre></div>
<div id="contrasts" class="section level3 hasAnchor" number="17.3.1">
<h3><span class="header-section-number">17.3.1</span> Contrasts<a href="hw-ants.html#contrasts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most of these analyses will focus on ecological contrasts. There are four contrasts we’re interested in with this lab:</p>
<ul>
<li>Open (canopy cover 0 or 1) vs. Closed (canopy cover 2 or 3) canopies.</li>
<li>Sparse (0/1) vs. dense (2/3) ground cover.</li>
<li>Low vs. high disturbance</li>
<li>Habitat types (Quarry vs. River Terrace vs. Old Pasture). This column isn’t present in the homework data (so you don’t need to do it now), but it will be included in the data you collect.</li>
</ul>
</div>
<div id="the-data-5" class="section level3 hasAnchor" number="17.3.2">
<h3><span class="header-section-number">17.3.2</span> The data<a href="hw-ants.html#the-data-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The columns of this data frame that are:</p>
<ul>
<li><strong>Acre</strong>: Acre ID.</li>
<li><strong>Site</strong>: Site number, 1-16 per acre.</li>
<li><strong>Fire_ants_present</strong>: “Y” or “N” for fire ant presence at site.</li>
<li><strong>GPS_easting</strong>, <strong>GPS_northing</strong>: Location of site; ignore.</li>
<li><strong>Phorids_present</strong>: Ignore this.</li>
<li><strong>Canopy_cover</strong>, <strong>Ground_cover</strong>: Canopy or ground cover at site, from 0 (none) to 3 (full), as per heterogeneity lab.</li>
<li><strong>Disturbance</strong>: “high” or “low” disturbance at site.</li>
<li><strong>Field_Notes</strong>: Notes from the field data collection</li>
<li><strong>Name</strong>: Student Name; ignore.</li>
<li><strong>Total_ants</strong>: Total number of ants caught at site.</li>
<li><strong>Solenopsis invicta</strong>, <em>and a large number of other species-names</em>: Number of that species present at the site. Note that these columns have spaces in their names, so to use them, you need to surround them with back-ticks (`, on the ~ key).</li>
<li><strong>Other species</strong>: Other species present; you can generally ignore this.</li>
</ul>
<p>We’ll need to re-define some our columns to fit the above contrasts; you can use the <code>if_else()</code> function inside mutate to do this.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="hw-ants.html#cb171-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-2"><a href="hw-ants.html#cb171-2" aria-hidden="true" tabindex="-1"></a>wide_ant_data <span class="ot">=</span> raw_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb171-3"><a href="hw-ants.html#cb171-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove unnecessary columns</span></span>
<span id="cb171-4"><a href="hw-ants.html#cb171-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>GPS_easting, <span class="sc">-</span>GPS_northing, <span class="sc">-</span>Phorids_present, <span class="sc">-</span>Field_Notes, <span class="sc">-</span>Name, <span class="sc">-</span>Total_ants, <span class="sc">-</span><span class="st">`</span><span class="at">Other species</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb171-5"><a href="hw-ants.html#cb171-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb171-6"><a href="hw-ants.html#cb171-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Canopy_cover =</span> <span class="fu">if_else</span>(Canopy_cover <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="st">&quot;Open&quot;</span>, <span class="st">&quot;Closed&quot;</span>), <span class="co"># see ?if_else() for details</span></span>
<span id="cb171-7"><a href="hw-ants.html#cb171-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ground_cover =</span> <span class="co"># define as sparse vs. dense</span></span>
<span id="cb171-8"><a href="hw-ants.html#cb171-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>We’re also going to transform the data into a long format using <code>pivot_longer</code> (<a href="r-tidyr.html#pivot-longer-tutorial">8.2</a>).</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="hw-ants.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get a list of species columns</span></span>
<span id="cb172-2"><a href="hw-ants.html#cb172-2" aria-hidden="true" tabindex="-1"></a>ant_species <span class="ot">=</span> wide_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb172-3"><a href="hw-ants.html#cb172-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove the non-species columns</span></span>
<span id="cb172-4"><a href="hw-ants.html#cb172-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Acre, <span class="sc">-</span>Site, <span class="sc">-</span>Fire_ants_present, <span class="sc">-</span>Canopy_cover, <span class="sc">-</span>Ground_cover, <span class="sc">-</span>Disturbance) <span class="sc">|&gt;</span> </span>
<span id="cb172-5"><a href="hw-ants.html#cb172-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>() <span class="co"># get the column names</span></span>
<span id="cb172-6"><a href="hw-ants.html#cb172-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-7"><a href="hw-ants.html#cb172-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert all of the species columns to &quot;Species&quot; and &quot;N&quot;</span></span>
<span id="cb172-8"><a href="hw-ants.html#cb172-8" aria-hidden="true" tabindex="-1"></a>tidy_ant_data <span class="ot">=</span> wide_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb172-9"><a href="hw-ants.html#cb172-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">all_of</span>(ant_species), <span class="co"># all_of() selects columns based on a character vector; it also works in select()</span></span>
<span id="cb172-10"><a href="hw-ants.html#cb172-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;Species&quot;</span>, <span class="co"># Put the column name in a &quot;Species&quot; column</span></span>
<span id="cb172-11"><a href="hw-ants.html#cb172-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;N&quot;</span>) <span class="sc">|&gt;</span> <span class="co"># Cell values are counts, so make that an N column</span></span>
<span id="cb172-12"><a href="hw-ants.html#cb172-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># replace the underscores in species names with a space:</span></span>
<span id="cb172-13"><a href="hw-ants.html#cb172-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(N <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="co"># Remove species that aren&#39;t present</span></span></code></pre></div>
</div>
</div>
<div id="s.-invicta-habitat-preference-1" class="section level2 hasAnchor" number="17.4">
<h2><span class="header-section-number">17.4</span> <em>S. invicta</em> habitat preference<a href="hw-ants.html#s.-invicta-habitat-preference-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For all four contrasts (three in the homework), create a contingency table out of the contrast and <em>Fire_ants_present</em>. Run a chi-squared or Fisher’s exact test (<a href="r-stats.html#r-stats-chisq">7.2.2</a>) on each table.</p>
<p>Be sure to remove any <code>NA</code> columns from the data using <code>filter()</code> and <code>is.na()</code> (<a href="r-dplyr.html#r-dplyr-filter">6.3</a>) before making your tables.</p>
<p>To make the interaction chi-square test, use <code>mutate()</code> and the <code>paste()</code> function to define a new column that combines Canopy_cover and Disturbance (remove <code>NA</code>’s first). Use this new column to create a contingency table with <em>Fire_ants_present</em> and run the appropriate statistical text.</p>
<p>For information on the <code>paste()</code> function, enter <code>?paste</code> in the console.</p>
</div>
<div id="jaccard-similarity" class="section level2 hasAnchor" number="17.5">
<h2><span class="header-section-number">17.5</span> Jaccard similarity<a href="hw-ants.html#jaccard-similarity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Jaccard similarity is a measure of how similar the species composition is between a pair of communities (or between two levels of a contrast).
To calculate the Jaccard similarity of two communities, you need to divide the number of shared species by the total number of species.
This can be done with a combination of the <code>intersect()</code>, <code>union()</code>, and <code>length()</code> functions.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="hw-ants.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s say these are the species in our two communities:</span></span>
<span id="cb173-2"><a href="hw-ants.html#cb173-2" aria-hidden="true" tabindex="-1"></a>com_a <span class="ot">=</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb173-3"><a href="hw-ants.html#cb173-3" aria-hidden="true" tabindex="-1"></a>com_b <span class="ot">=</span> LETTERS[<span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>]</span>
<span id="cb173-4"><a href="hw-ants.html#cb173-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-5"><a href="hw-ants.html#cb173-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Species in common:</span></span>
<span id="cb173-6"><a href="hw-ants.html#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(com_a, com_b)</span>
<span id="cb173-7"><a href="hw-ants.html#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;C&quot; &quot;D&quot; &quot;E&quot;</span></span>
<span id="cb173-8"><a href="hw-ants.html#cb173-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-9"><a href="hw-ants.html#cb173-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Species present in either:</span></span>
<span id="cb173-10"><a href="hw-ants.html#cb173-10" aria-hidden="true" tabindex="-1"></a><span class="fu">union</span>(com_a, com_b)</span>
<span id="cb173-11"><a href="hw-ants.html#cb173-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot;</span></span>
<span id="cb173-12"><a href="hw-ants.html#cb173-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-13"><a href="hw-ants.html#cb173-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number of species present:</span></span>
<span id="cb173-14"><a href="hw-ants.html#cb173-14" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">union</span>(com_a, com_b))</span>
<span id="cb173-15"><a href="hw-ants.html#cb173-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 8</span></span>
<span id="cb173-16"><a href="hw-ants.html#cb173-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-17"><a href="hw-ants.html#cb173-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Jaccard similarity:</span></span>
<span id="cb173-18"><a href="hw-ants.html#cb173-18" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">intersect</span>(com_a, com_b)) <span class="sc">/</span> </span>
<span id="cb173-19"><a href="hw-ants.html#cb173-19" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">union</span>(com_a, com_b))</span>
<span id="cb173-20"><a href="hw-ants.html#cb173-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.375</span></span></code></pre></div>
<p>Since you’ll be doing this for several groups, it’s a good idea to write a function that will do this for us.
For a background on functions, please see <a href="https://r4ds.had.co.nz/functions.html">this chapter</a> in <em>R for Data Science</em>.
To use the function, first run the code that defines it:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="hw-ants.html#cb174-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-2"><a href="hw-ants.html#cb174-2" aria-hidden="true" tabindex="-1"></a>jaccard_similarity <span class="ot">=</span> <span class="cf">function</span>(com_1, com_2, <span class="at">na.rm =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb174-3"><a href="hw-ants.html#cb174-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># com_1 and com_2 are the arguments of the function,</span></span>
<span id="cb174-4"><a href="hw-ants.html#cb174-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># they should be the names of species in different communities</span></span>
<span id="cb174-5"><a href="hw-ants.html#cb174-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove missing values from the two communities if na.rm == TRUE</span></span>
<span id="cb174-6"><a href="hw-ants.html#cb174-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># </span></span>
<span id="cb174-7"><a href="hw-ants.html#cb174-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">isTRUE</span>(na.rm)) {</span>
<span id="cb174-8"><a href="hw-ants.html#cb174-8" aria-hidden="true" tabindex="-1"></a>    com_1 <span class="ot">=</span> <span class="fu">na.omit</span>(com_1)</span>
<span id="cb174-9"><a href="hw-ants.html#cb174-9" aria-hidden="true" tabindex="-1"></a>    com_2 <span class="ot">=</span> <span class="fu">na.omit</span>(com_2)</span>
<span id="cb174-10"><a href="hw-ants.html#cb174-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb174-11"><a href="hw-ants.html#cb174-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb174-12"><a href="hw-ants.html#cb174-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create local variables for the intersection and union;</span></span>
<span id="cb174-13"><a href="hw-ants.html#cb174-13" aria-hidden="true" tabindex="-1"></a>  common_spp <span class="ot">=</span> <span class="fu">intersect</span>(com_1, com_2) </span>
<span id="cb174-14"><a href="hw-ants.html#cb174-14" aria-hidden="true" tabindex="-1"></a>  total_spp <span class="ot">=</span> <span class="fu">union</span>(com_1, com_2) </span>
<span id="cb174-15"><a href="hw-ants.html#cb174-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># these variables are created while the function runs &amp; destroyed when it ends</span></span>
<span id="cb174-16"><a href="hw-ants.html#cb174-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The last value of the function is its output (a.k.a., return value)</span></span>
<span id="cb174-17"><a href="hw-ants.html#cb174-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(common_spp) <span class="sc">/</span> <span class="fu">length</span>(total_spp) <span class="co"># return this</span></span>
<span id="cb174-18"><a href="hw-ants.html#cb174-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb174-19"><a href="hw-ants.html#cb174-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-20"><a href="hw-ants.html#cb174-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Here&#39;s an example of running the function</span></span>
<span id="cb174-21"><a href="hw-ants.html#cb174-21" aria-hidden="true" tabindex="-1"></a><span class="fu">jaccard_similarity</span>(<span class="at">com_1 =</span> com_a, <span class="at">com_2 =</span> com_b)</span>
<span id="cb174-22"><a href="hw-ants.html#cb174-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.375</span></span>
<span id="cb174-23"><a href="hw-ants.html#cb174-23" aria-hidden="true" tabindex="-1"></a><span class="co"># This is the same thing:</span></span>
<span id="cb174-24"><a href="hw-ants.html#cb174-24" aria-hidden="true" tabindex="-1"></a><span class="fu">jaccard_similarity</span>(com_a, com_b)</span>
<span id="cb174-25"><a href="hw-ants.html#cb174-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.375</span></span></code></pre></div>
<p>How would this work for our data?
Filter the data for each level of the contrast and pull out the species column.
Then run the function.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="hw-ants.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contrast: Disturbance</span></span>
<span id="cb175-2"><a href="hw-ants.html#cb175-2" aria-hidden="true" tabindex="-1"></a>disturb_low <span class="ot">=</span> tidy_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb175-3"><a href="hw-ants.html#cb175-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset the data to get the &quot;community&quot; you want</span></span>
<span id="cb175-4"><a href="hw-ants.html#cb175-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Disturbance <span class="sc">==</span> <span class="st">&quot;low&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb175-5"><a href="hw-ants.html#cb175-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the list of species as a vector</span></span>
<span id="cb175-6"><a href="hw-ants.html#cb175-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Species) <span class="co"># pull() is like $ but works with pipes</span></span>
<span id="cb175-7"><a href="hw-ants.html#cb175-7" aria-hidden="true" tabindex="-1"></a>disturb_hi <span class="ot">=</span> <span class="co">#  fill this in for hight disturbance</span></span>
<span id="cb175-8"><a href="hw-ants.html#cb175-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb175-9"><a href="hw-ants.html#cb175-9" aria-hidden="true" tabindex="-1"></a><span class="fu">jaccard_similarity</span>(disturb_low, disturb_hi)</span></code></pre></div>
<p>For habitat (in the final assignment), you’ll need to make 3 pairwise similarity comparisons (Q vs. R, Q vs. P, P vs. R).</p>
</div>
<div id="shannon-index-diversity" class="section level2 hasAnchor" number="17.6">
<h2><span class="header-section-number">17.6</span> Shannon Index &amp; Diversity<a href="hw-ants.html#shannon-index-diversity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s make a function that calculates the Shannon index of a community:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="hw-ants.html#cb176-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-2"><a href="hw-ants.html#cb176-2" aria-hidden="true" tabindex="-1"></a>shannon_diversity <span class="ot">=</span> <span class="cf">function</span>(species, count) {</span>
<span id="cb176-3"><a href="hw-ants.html#cb176-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># species: vector of species names; </span></span>
<span id="cb176-4"><a href="hw-ants.html#cb176-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># count: how many of each species are present</span></span>
<span id="cb176-5"><a href="hw-ants.html#cb176-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb176-6"><a href="hw-ants.html#cb176-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create p, a vector of relative frequencies</span></span>
<span id="cb176-7"><a href="hw-ants.html#cb176-7" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">=</span> <span class="fu">tibble</span>(species, count) <span class="sc">|&gt;</span> </span>
<span id="cb176-8"><a href="hw-ants.html#cb176-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Merge duplicate species </span></span>
<span id="cb176-9"><a href="hw-ants.html#cb176-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb176-10"><a href="hw-ants.html#cb176-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">sum</span>(count)) <span class="sc">|&gt;</span> </span>
<span id="cb176-11"><a href="hw-ants.html#cb176-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb176-12"><a href="hw-ants.html#cb176-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove zeroes</span></span>
<span id="cb176-13"><a href="hw-ants.html#cb176-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(count <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb176-14"><a href="hw-ants.html#cb176-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert to frequencies</span></span>
<span id="cb176-15"><a href="hw-ants.html#cb176-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">p =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count)) <span class="sc">|&gt;</span> </span>
<span id="cb176-16"><a href="hw-ants.html#cb176-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extract column p</span></span>
<span id="cb176-17"><a href="hw-ants.html#cb176-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(p) </span>
<span id="cb176-18"><a href="hw-ants.html#cb176-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(p) <span class="sc">&lt;</span> <span class="dv">2</span>) <span class="fu">return</span>(<span class="dv">0</span>) <span class="co"># one or 0 species has an H of 0</span></span>
<span id="cb176-19"><a href="hw-ants.html#cb176-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return value:</span></span>
<span id="cb176-20"><a href="hw-ants.html#cb176-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">exp</span>( <span class="sc">-</span><span class="fu">sum</span>(p <span class="sc">*</span> <span class="fu">log</span>(p)) ) <span class="co"># exponential of shannon index</span></span>
<span id="cb176-21"><a href="hw-ants.html#cb176-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb176-22"><a href="hw-ants.html#cb176-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-23"><a href="hw-ants.html#cb176-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the shannon diversity</span></span>
<span id="cb176-24"><a href="hw-ants.html#cb176-24" aria-hidden="true" tabindex="-1"></a><span class="fu">shannon_diversity</span>(LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="co"># Species names, A : E</span></span>
<span id="cb176-25"><a href="hw-ants.html#cb176-25" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">30</span>, <span class="dv">22</span>, <span class="dv">140</span>)) <span class="co"># Species counts</span></span>
<span id="cb176-26"><a href="hw-ants.html#cb176-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3.367463</span></span></code></pre></div>
<p>This function should work well with a grouped summarize function:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="hw-ants.html#cb177-1" aria-hidden="true" tabindex="-1"></a>tidy_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb177-2"><a href="hw-ants.html#cb177-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Acre, Disturbance) <span class="sc">|&gt;</span> <span class="co"># group by Acre &amp; habitat</span></span>
<span id="cb177-3"><a href="hw-ants.html#cb177-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">shannon =</span> <span class="fu">shannon_diversity</span>(Species, N)) </span>
<span id="cb177-4"><a href="hw-ants.html#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="do">## `summarise()` has grouped output by &#39;Acre&#39;. You can override using the</span></span>
<span id="cb177-5"><a href="hw-ants.html#cb177-5" aria-hidden="true" tabindex="-1"></a><span class="do">## `.groups` argument.</span></span>
<span id="cb177-6"><a href="hw-ants.html#cb177-6" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 24 × 3</span></span>
<span id="cb177-7"><a href="hw-ants.html#cb177-7" aria-hidden="true" tabindex="-1"></a><span class="do">## # Groups:   Acre [14]</span></span>
<span id="cb177-8"><a href="hw-ants.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="do">##    Acre  Disturbance shannon</span></span>
<span id="cb177-9"><a href="hw-ants.html#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span id="cb177-10"><a href="hw-ants.html#cb177-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 A1    high           1.63</span></span>
<span id="cb177-11"><a href="hw-ants.html#cb177-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 A1    low            2.03</span></span>
<span id="cb177-12"><a href="hw-ants.html#cb177-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 A10   high           0   </span></span>
<span id="cb177-13"><a href="hw-ants.html#cb177-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 A10   low            1.69</span></span>
<span id="cb177-14"><a href="hw-ants.html#cb177-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 A11   high           1.21</span></span>
<span id="cb177-15"><a href="hw-ants.html#cb177-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 A11   low            1.33</span></span>
<span id="cb177-16"><a href="hw-ants.html#cb177-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 A14   high           2.79</span></span>
<span id="cb177-17"><a href="hw-ants.html#cb177-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 A14   low            1.93</span></span>
<span id="cb177-18"><a href="hw-ants.html#cb177-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 A15   high           1.24</span></span>
<span id="cb177-19"><a href="hw-ants.html#cb177-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 A15   low            1.12</span></span>
<span id="cb177-20"><a href="hw-ants.html#cb177-20" aria-hidden="true" tabindex="-1"></a><span class="do">## # … with 14 more rows</span></span>
<span id="cb177-21"><a href="hw-ants.html#cb177-21" aria-hidden="true" tabindex="-1"></a><span class="do">## # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<p>Make a figure out of this (a boxplot or a jitterplot).</p>
</div>
<div id="species-accumulation-curves" class="section level2 hasAnchor" number="17.7">
<h2><span class="header-section-number">17.7</span> Species Accumulation Curves<a href="hw-ants.html#species-accumulation-curves" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Species accumulation curves are calculated by the <code>specaccum()</code> function in <code>vegan</code>. This function requires a data set where each column is a species, each_row is a site, and each cell is a 1 (indicating presence) or 0 (indicating absence). Let’s create a function that will format the data for this:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="hw-ants.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a function that converts a number to presence-absense</span></span>
<span id="cb178-2"><a href="hw-ants.html#cb178-2" aria-hidden="true" tabindex="-1"></a>to_presence_absense <span class="ot">=</span> <span class="cf">function</span>(x) <span class="fu">if_else</span>(x <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">|</span> <span class="fu">is.na</span>(x), <span class="dv">0</span>, <span class="dv">1</span>) <span class="co"># Recodes data as 0 if it&#39;s 0 or missing or 1 otherwise</span></span>
<span id="cb178-3"><a href="hw-ants.html#cb178-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-4"><a href="hw-ants.html#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Format data for the species accumulation curve</span></span>
<span id="cb178-5"><a href="hw-ants.html#cb178-5" aria-hidden="true" tabindex="-1"></a>format_sac_data <span class="ot">=</span> <span class="cf">function</span>(wide_data, <span class="at">ant_spp =</span> ant_species) {</span>
<span id="cb178-6"><a href="hw-ants.html#cb178-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Takes a wide data format</span></span>
<span id="cb178-7"><a href="hw-ants.html#cb178-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ant_spp is the name of all ant species in the dataset; it&#39;s defined earlier</span></span>
<span id="cb178-8"><a href="hw-ants.html#cb178-8" aria-hidden="true" tabindex="-1"></a>    wide_data <span class="sc">|&gt;</span> </span>
<span id="cb178-9"><a href="hw-ants.html#cb178-9" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Select only species columns</span></span>
<span id="cb178-10"><a href="hw-ants.html#cb178-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="fu">all_of</span>(ant_spp)) <span class="sc">|&gt;</span> </span>
<span id="cb178-11"><a href="hw-ants.html#cb178-11" aria-hidden="true" tabindex="-1"></a>      <span class="co"># use to_presence_absense() on all columns</span></span>
<span id="cb178-12"><a href="hw-ants.html#cb178-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), to_presence_absense))</span>
<span id="cb178-13"><a href="hw-ants.html#cb178-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb178-14"><a href="hw-ants.html#cb178-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-15"><a href="hw-ants.html#cb178-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Here&#39;s what the results looks like on open canopy data:</span></span>
<span id="cb178-16"><a href="hw-ants.html#cb178-16" aria-hidden="true" tabindex="-1"></a>wide_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb178-17"><a href="hw-ants.html#cb178-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Canopy_cover <span class="sc">==</span> <span class="st">&quot;Open&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb178-18"><a href="hw-ants.html#cb178-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_sac_data</span>() <span class="sc">|&gt;</span> </span>
<span id="cb178-19"><a href="hw-ants.html#cb178-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">View</span>()</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
Solenopsis invicta
</th>
<th style="text-align:right;">
Aphenogaster texana
</th>
<th style="text-align:right;">
Brachymyermex depilis
</th>
<th style="text-align:right;">
Camponotus texanus
</th>
<th style="text-align:right;">
Crematogaster laeviuscula
</th>
<th style="text-align:right;">
Forelius mccooki
</th>
<th style="text-align:right;">
Forelius pruinosis
</th>
<th style="text-align:right;">
Monomorium minimum
</th>
<th style="text-align:right;">
Neoponera harpax
</th>
<th style="text-align:right;">
Odontomachus clarus
</th>
<th style="text-align:right;">
Paratrechina terricola
</th>
<th style="text-align:right;">
Pheidole dentata
</th>
<th style="text-align:right;">
Pheidole bicarinata
</th>
<th style="text-align:right;">
Pheidole floridana
</th>
<th style="text-align:right;">
Pheidole lamia
</th>
<th style="text-align:right;">
Pheidole metallescens
</th>
<th style="text-align:right;">
Pheidole pelor
</th>
<th style="text-align:right;">
Pheidole tetra
</th>
<th style="text-align:right;">
Pheidole hyati
</th>
<th style="text-align:right;">
Pseudomyrmex brunneus
</th>
<th style="text-align:right;">
Solenopsis texana
</th>
<th style="text-align:right;">
Solenopsis geminata
</th>
<th style="text-align:right;">
Pheilode hyati
</th>
<th style="text-align:right;">
Pheidole consipata
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<p>From here, you can use it to calculate an SAC.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="hw-ants.html#cb179-1" aria-hidden="true" tabindex="-1"></a>sac_open <span class="ot">=</span> wide_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb179-2"><a href="hw-ants.html#cb179-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Canopy_cover <span class="sc">==</span> <span class="st">&quot;Open&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb179-3"><a href="hw-ants.html#cb179-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_sac_data</span>() <span class="sc">|&gt;</span> </span>
<span id="cb179-4"><a href="hw-ants.html#cb179-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specaccum</span>(<span class="at">method =</span> <span class="st">&quot;random&quot;</span>, <span class="at">permutations =</span> <span class="dv">500</span>)   <span class="co"># Use these argument options</span></span></code></pre></div>
<p>Use <code>print(sac_open)</code> to look at the output. The results are basically a tidy data frame turned on its side: one row for the number of sites sampled, one for the estimated richness, and one for the error around the richness estimate. To plot this, we need to re-format the output.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="hw-ants.html#cb180-1" aria-hidden="true" tabindex="-1"></a>sac_open_tidy <span class="ot">=</span> </span>
<span id="cb180-2"><a href="hw-ants.html#cb180-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb180-3"><a href="hw-ants.html#cb180-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sites =</span> sac_open<span class="sc">$</span>sites,</span>
<span id="cb180-4"><a href="hw-ants.html#cb180-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">richness =</span> sac_open<span class="sc">$</span>richness,</span>
<span id="cb180-5"><a href="hw-ants.html#cb180-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> sac_open<span class="sc">$</span>sd <span class="co"># the &quot;SD&quot; column is actually a standard error measure</span></span>
<span id="cb180-6"><a href="hw-ants.html#cb180-6" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb180-7"><a href="hw-ants.html#cb180-7" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(sac_open_tidy)</span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
sites
</th>
<th style="text-align:right;">
richness
</th>
<th style="text-align:right;">
se
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.762
</td>
<td style="text-align:right;">
0.4623674
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1.442
</td>
<td style="text-align:right;">
0.5961096
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1.968
</td>
<td style="text-align:right;">
0.6927740
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2.418
</td>
<td style="text-align:right;">
0.7800596
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2.760
</td>
<td style="text-align:right;">
0.8578297
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
3.074
</td>
<td style="text-align:right;">
0.9023039
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
3.328
</td>
<td style="text-align:right;">
0.9044623
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
3.552
</td>
<td style="text-align:right;">
0.9279106
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
3.764
</td>
<td style="text-align:right;">
0.9391848
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
3.944
</td>
<td style="text-align:right;">
0.9668161
</td>
</tr>
</tbody>
</table>
</div>
<p>From this, it’s relatively simple to create the actual plot:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="hw-ants.html#cb181-1" aria-hidden="true" tabindex="-1"></a>sac_open_plot <span class="ot">=</span> sac_open_tidy <span class="sc">|&gt;</span> </span>
<span id="cb181-2"><a href="hw-ants.html#cb181-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define the confidence intervals based on mean richness &amp; standard errors</span></span>
<span id="cb181-3"><a href="hw-ants.html#cb181-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lower_ci =</span> richness <span class="sc">-</span> se <span class="sc">*</span> <span class="fl">1.96</span>,</span>
<span id="cb181-4"><a href="hw-ants.html#cb181-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">upper_ci =</span> richness <span class="sc">+</span> se <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">|&gt;</span> </span>
<span id="cb181-5"><a href="hw-ants.html#cb181-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">x =</span> sites, <span class="at">y =</span> richness) <span class="sc">+</span></span>
<span id="cb181-6"><a href="hw-ants.html#cb181-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co"># line for richness</span></span>
<span id="cb181-7"><a href="hw-ants.html#cb181-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The lines below add in confidence intervals</span></span>
<span id="cb181-8"><a href="hw-ants.html#cb181-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> lower_ci), <span class="at">linetype =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb181-9"><a href="hw-ants.html#cb181-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> upper_ci), <span class="at">linetype =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb181-10"><a href="hw-ants.html#cb181-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># alpha adds a bit of transparency</span></span>
<span id="cb181-11"><a href="hw-ants.html#cb181-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sampling intensity (number of sites)&quot;</span>) <span class="sc">+</span></span>
<span id="cb181-12"><a href="hw-ants.html#cb181-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Number of ant species&quot;</span>)</span>
<span id="cb181-13"><a href="hw-ants.html#cb181-13" aria-hidden="true" tabindex="-1"></a>sac_open_plot</span></code></pre></div>
<p><img src="Bio373L-Book_files/figure-html/hw-ants-sac-plot1-1.png" width="672" />
Let’s combine these last few steps into a pair of functions, for re-use with different data sub-sets:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="hw-ants.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the tidy SAC data</span></span>
<span id="cb182-2"><a href="hw-ants.html#cb182-2" aria-hidden="true" tabindex="-1"></a>get_sac <span class="ot">=</span> <span class="cf">function</span>(wide_data) {</span>
<span id="cb182-3"><a href="hw-ants.html#cb182-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># wide_data is data in the wide format, probably subset or filtered</span></span>
<span id="cb182-4"><a href="hw-ants.html#cb182-4" aria-hidden="true" tabindex="-1"></a>  sac <span class="ot">=</span> <span class="fu">format_sac_data</span>(wide_data) <span class="sc">|&gt;</span> <span class="co"># Convert to SAC format</span></span>
<span id="cb182-5"><a href="hw-ants.html#cb182-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specaccum</span>(<span class="at">method =</span> <span class="st">&quot;random&quot;</span>, <span class="at">permutations =</span> <span class="dv">500</span>) <span class="co"># calculate SAC</span></span>
<span id="cb182-6"><a href="hw-ants.html#cb182-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>( <span class="co"># Tidy output</span></span>
<span id="cb182-7"><a href="hw-ants.html#cb182-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sites =</span> sac<span class="sc">$</span>sites,</span>
<span id="cb182-8"><a href="hw-ants.html#cb182-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">richness =</span> sac<span class="sc">$</span>richness,</span>
<span id="cb182-9"><a href="hw-ants.html#cb182-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">se =</span> sac<span class="sc">$</span>sd</span>
<span id="cb182-10"><a href="hw-ants.html#cb182-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span>   </span>
<span id="cb182-11"><a href="hw-ants.html#cb182-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">lower_ci =</span> richness <span class="sc">-</span> se <span class="sc">*</span> <span class="fl">1.96</span>,</span>
<span id="cb182-12"><a href="hw-ants.html#cb182-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">upper_ci =</span> richness <span class="sc">+</span> se <span class="sc">*</span> <span class="fl">1.96</span>)</span>
<span id="cb182-13"><a href="hw-ants.html#cb182-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb182-14"><a href="hw-ants.html#cb182-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the plot</span></span>
<span id="cb182-15"><a href="hw-ants.html#cb182-15" aria-hidden="true" tabindex="-1"></a>plot_sac <span class="ot">=</span> <span class="cf">function</span>(sac_data) {</span>
<span id="cb182-16"><a href="hw-ants.html#cb182-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sac_data is the output of get_sac()</span></span>
<span id="cb182-17"><a href="hw-ants.html#cb182-17" aria-hidden="true" tabindex="-1"></a>  sac_data <span class="sc">|&gt;</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb182-18"><a href="hw-ants.html#cb182-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> sites, <span class="at">y =</span> richness) <span class="sc">+</span></span>
<span id="cb182-19"><a href="hw-ants.html#cb182-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="co"># line for richness</span></span>
<span id="cb182-20"><a href="hw-ants.html#cb182-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The lines below add in confidence intervals</span></span>
<span id="cb182-21"><a href="hw-ants.html#cb182-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> lower_ci), <span class="at">linetype =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb182-22"><a href="hw-ants.html#cb182-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> upper_ci), <span class="at">linetype =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb182-23"><a href="hw-ants.html#cb182-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># alpha adds a bit of transparency</span></span>
<span id="cb182-24"><a href="hw-ants.html#cb182-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;Sampling intensity (number of sites)&quot;</span>) <span class="sc">+</span></span>
<span id="cb182-25"><a href="hw-ants.html#cb182-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;Number of ant species&quot;</span>)</span>
<span id="cb182-26"><a href="hw-ants.html#cb182-26" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>From here, we easily try different combinations</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="hw-ants.html#cb183-1" aria-hidden="true" tabindex="-1"></a>wide_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb183-2"><a href="hw-ants.html#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Canopy_cover <span class="sc">==</span> <span class="st">&quot;Closed&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb183-3"><a href="hw-ants.html#cb183-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_sac</span>() <span class="sc">|&gt;</span> </span>
<span id="cb183-4"><a href="hw-ants.html#cb183-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_sac</span>()</span></code></pre></div>
<p><img src="Bio373L-Book_files/figure-html/hw-ants-sac-func-ex-1.png" width="672" /></p>
<p>When comparing multiple groups, it’s best to put them together in a single plot. The easiest way to do that is to calculate the SAC data, then combine the resulting data frames</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="hw-ants.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the SAC data frames for each group in your comparison</span></span>
<span id="cb184-2"><a href="hw-ants.html#cb184-2" aria-hidden="true" tabindex="-1"></a>sac_cnpy_open <span class="ot">=</span> wide_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb184-3"><a href="hw-ants.html#cb184-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Canopy_cover <span class="sc">==</span> <span class="st">&quot;Open&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb184-4"><a href="hw-ants.html#cb184-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_sac</span>() <span class="sc">|&gt;</span> </span>
<span id="cb184-5"><a href="hw-ants.html#cb184-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Canopy_cover =</span> <span class="st">&quot;Open&quot;</span>) <span class="co"># Use the Mutate Add disturbance column to sac results</span></span>
<span id="cb184-6"><a href="hw-ants.html#cb184-6" aria-hidden="true" tabindex="-1"></a>sac_cnpy_closed <span class="ot">=</span> wide_ant_data <span class="sc">|&gt;</span> </span>
<span id="cb184-7"><a href="hw-ants.html#cb184-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Canopy_cover <span class="sc">==</span> <span class="st">&quot;Closed&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb184-8"><a href="hw-ants.html#cb184-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_sac</span>() <span class="sc">|&gt;</span> </span>
<span id="cb184-9"><a href="hw-ants.html#cb184-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Canopy_cover =</span> <span class="st">&quot;Closed&quot;</span>) <span class="co"># Add disturbance column back to sac results</span></span>
<span id="cb184-10"><a href="hw-ants.html#cb184-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-11"><a href="hw-ants.html#cb184-11" aria-hidden="true" tabindex="-1"></a>sac_cnpy_combined <span class="ot">=</span> <span class="co"># Combine them into one data frame</span></span>
<span id="cb184-12"><a href="hw-ants.html#cb184-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(sac_cnpy_open, sac_cnpy_closed) <span class="co"># Note that bind_rows() can combine more than two data frames, if you&#39;re doing a 3+ part comparison</span></span>
<span id="cb184-13"><a href="hw-ants.html#cb184-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-14"><a href="hw-ants.html#cb184-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_sac</span>(sac_cnpy_combined) <span class="sc">+</span> <span class="co"># Creates a standard SAC Plot</span></span>
<span id="cb184-15"><a href="hw-ants.html#cb184-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">color=</span>Canopy_cover) <span class="sc">+</span>    <span class="co"># Separates out the lines by color based on the Disturbance column</span></span>
<span id="cb184-16"><a href="hw-ants.html#cb184-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>()     <span class="co"># Make the colors look nice</span></span></code></pre></div>
<p><img src="Bio373L-Book_files/figure-html/a6_sac_expt2-1.png" width="672" /></p>
<p>Do this for all of your contrasts.</p>
</div>
<div id="rank-abundance-curves" class="section level2 hasAnchor" number="17.8">
<h2><span class="header-section-number">17.8</span> Rank Abundance Curves<a href="hw-ants.html#rank-abundance-curves" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This is really just an exercise in data manipulation: we want to get the total number of individuals of each species, then display them in decreasing frequency.
You need to do a grouped <code>summarize()</code> on the tidy data so that there’s one row per species/contrast combination, with columns Species, N (which is the species-level sum of the already existing N column in <code>tidy_ant_data</code>), and whatever your contrast is.
From here, sort the summary by contrast and descending N, group by the contrast, and use <code>mutate()</code> to make a new column <code>species_rank = 1:n()</code>.</p>
<p>To make the plot itself, you can use this function; use <code>aes()</code> to separate your contrasts by color like you did with <code>plot_sac()</code> above.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="hw-ants.html#cb185-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-2"><a href="hw-ants.html#cb185-2" aria-hidden="true" tabindex="-1"></a>plot_rank_abundance <span class="ot">=</span> <span class="cf">function</span>(summarized_data, <span class="at">right_margin =</span> <span class="fl">2.8</span>) {</span>
<span id="cb185-3"><a href="hw-ants.html#cb185-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make the rank abundance plot</span></span>
<span id="cb185-4"><a href="hw-ants.html#cb185-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The right_margin argument is used to make sure that </span></span>
<span id="cb185-5"><a href="hw-ants.html#cb185-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the angled axis labels don&#39;t go of the page</span></span>
<span id="cb185-6"><a href="hw-ants.html#cb185-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># make it larger or smaller to suit your tastes</span></span>
<span id="cb185-7"><a href="hw-ants.html#cb185-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(summarized_data, <span class="fu">aes</span>(<span class="at">x =</span> species_rank, <span class="at">y =</span> N)) <span class="sc">+</span></span>
<span id="cb185-8"><a href="hw-ants.html#cb185-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># Create a descending line</span></span>
<span id="cb185-9"><a href="hw-ants.html#cb185-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>() <span class="sc">+</span> <span class="co"># puts y axis on log scale</span></span>
<span id="cb185-10"><a href="hw-ants.html#cb185-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;Species (In Rank Order)&quot;</span>) <span class="sc">+</span> </span>
<span id="cb185-11"><a href="hw-ants.html#cb185-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis_d</span>()</span>
<span id="cb185-12"><a href="hw-ants.html#cb185-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Your resulting plot should look something like this:</p>
<pre><code>## `summarise()` has grouped output by &#39;Disturbance&#39;. You can override using the
## `.groups` argument.</code></pre>
<p><img src="Bio373L-Book_files/figure-html/hw-ants-plot-rank-abundance-plt-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hw-mrr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Christopher-Peterson/Bio373L-Book/edit/master/chapters/homework/hw_ants.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Christopher-Peterson/Bio373L-Book/blob/master/chapters/homework/hw_ants.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
